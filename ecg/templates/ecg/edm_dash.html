{% extends 'ecg/senbase.html' %}

{% block title %}Resumen EDM{% endblock %}

{% load static %}

{% block search %}
<span id="device-name" class="name" style="display:none;">Dispositivo</span>

<button class="boton" id="connect" type="button" aria-label="Connect" style="display:none;">
    <i class="material-icons">bluetooth_connected</i>
</button>

<button class="boton" id="disconnect" type="button" aria-label="Disconnect" style="display:none;">
    <i class="material-icons">bluetooth_disabled</i>
</button>

<button class="boton" id="download" style="display:none;">
    <i class="material-icons">cloud_download</i>
</button>

<div class="opcSenalView">
    <a href="{% url 'registros:senalesExp' signal.experimento.id %}" class="boton btnFold">
        <i class="material-icons">folder</i>
    </a>

    <button class="boton" id="descargar">
        <i class="material-icons">cloud_download</i>
    </button>
</div>
{% endblock %}

{% block content %}
<div class="menu">
    <div id="terminal" class="terminal"></div>

    <div class="evtEDM">
        <div class="eventosRT">
            {% if signal.categoria == 'Electrocardiograma' %}
                <span class="#">LPM</span>
            {% elif signal.categoria == 'Electromiograma' %}
                <span class="#">Evento</span>
            {% elif signal.categoria == 'Oximetría' %}
                <span class="#">Evento</span>
            {% elif signal.categoria == 'Fonocardiograma' %}
                <span class="#">LPM</span>
            {% else %}
                <span class="#">Estado</span>
            {% endif %}

            <h5 id="respuesta" class="resp">{{res}}</h5>
        </div>
    </div>

    <div class="segundos" style="display:none;">
        <h5 id="tiempo">0</h5>
        <span class="unidad">segundos</span>
    </div>

</div>

<div class="content">
    <h5 class="nombreSenal">{{signal.categoria}} de {{signal.nombre}}</h5>
    <script>
        let labels = {{ labels }};
        let muestras = {{ data }};
        let categoria = 'Electrocardiograma';
    </script>

    <div id="chartContainer" class="#">
        <div id="chartSenal" class="#">
        </div>
    </div>

    <div class="modal">
        <div class="modal-content modalSenal">
            <span class="close">&times;</span>
            <h5 class="modalText">Señal guardada</h5>
        </div>
    </div>

</div>

<div class="footer">
    <form id="send-form" class="send-form mr-0" style="display:none;"> <!--style="display:none;"-->

        <input id="input" type="text" aria-label="Input" autocomplete="off" placeholder="Tiempo de muestreo">

        <button class="mr-0 mb-1" type="submit" aria-label="Send">
            <i class="material-icons mt-1">send</i>
        </button>

    </form>

    <div class="opcionesSenal">
        <button id="play" class="circleBtn opc" type="submit">
            <i class="material-icons">play_arrow</i>
        </button>

        <button id="pause" class="circleBtn opc" type="submit">
            <i class="material-icons">pause</i>
        </button>

        <button id="replay" class="circleBtn opc">
            <i class="material-icons">replay</i>
        </button>
    </div>
    
    <script src="{% static 'ecg/js/graf.js' %}"></script>
</div>

{% endblock %}




